<!DOCTYPE html>
<html>
  <head>
    <title>Contact Form</title>
    <script
      type="text/javascript"
      src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"
    ></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script type="text/javascript">
      $(document).ready(function () {
        emailjs.init("FhBDdklrwtHsn51F2");

        $("#contact-form").on("submit", function (event) {
          event.preventDefault(); // prevent reload
          console.log("a");
          const formData = new FormData(this);
          formData.append("service_id", "service_s6l8dom");
          formData.append("template_id", "template_vdqsj88");
          formData.append("user_id", "FhBDdklrwtHsn51F2");

          $.ajax("https://api.emailjs.com/api/v1.0/email/send-form", {
            type: "POST",
            data: formData,
            contentType: false, // auto-detection
            processData: false, // no need to parse formData to string
          })
            .done(function () {
              alert("Your mail is sent!");
            })
            .fail(function (error) {
              alert("Oops... " + JSON.stringify(error));
            });
        });
      });
    </script>
  </head>
  <body>
    <form id="contact-form">
      <label>phone(필수아님)</label>
      <input type="text" name="phone" />
      <label>Name</label>
      <input type="text" name="name" />
      <label>Email</label>
      <input type="email" name="email" />
      <label>Message</label>
      <textarea name="message"></textarea>
      <button name="submit" class="btn white">전송</button>
    </form>
  </body>
</html>
